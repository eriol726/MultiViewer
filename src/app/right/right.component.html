<div class="row"  >
  
    <div [hidden]="!hidePanel" style="height: 100%; margin-top: 0%">
      <iframe src="assets/Screen/Right/Expanded_View_RightScreen.svg" style="width: 100%; height: 100%;  border: 0px;  padding: 0px 0px; position: relative" ></iframe> 
      <!-- <app-area-chart></app-area-chart> -->
    </div>
    
    <div [hidden]="hidePanel" style="height: 100%; margin-top: 0%">
        <p style="margin: 0px; font-family: Titillium; color: #5a6770; font-size: 18px">COUNTERMEASURES</p>
        <div id="tja" style="display: flex; flex-direction: column; min-height: 100%;">
            <mat-expansion-panel 
              (opened)="panelOpenState = true"
              (closed)="panelOpenState = false"
              [expanded]="isExpanded===i"
              hideToggle="true"
              *ngFor="let item of COUNTERMEASURES; let i = index" 
              [attr.id]='"panel_item_"+i'
              [@.disabled]="false"
              #panelRight >
              <mat-expansion-panel-header [collapsedHeight]="initPanelItemHeight" [expandedHeight]="initPanelItemHeight" (click)="expandTaskPanel(i)" #panelHeader >
                <mat-panel-title  >   
                  <iframe #iframe id='cm_left_{{i}}' class="panel-iframe" (load)="loadIframe()" [src]='"assets/Screen/Right/r_"+i+"_left_Screen.svg" | safe' style="border: 0px; flex-grow: 1; " ></iframe>
        
                  <div *ngIf="isExpanded!==i;else other_content"  style="flex-grow: 2" >
                    <iframe  id='cm_right_{{i}}' class="panel-iframe" [src]='"assets/Screen/Right/r_"+i+"_right_Screen.svg" | safe' style="border: 0px; flex: 5; height: 100%;width: 100%"></iframe>
                  </div>
                  
                  <ng-template #other_content >
                    <div style="flex-grow: 2">
                      <iframe  id='{{i+1}}_Overview_Screen' class="panel-iframe" [src]='"assets/Screen/Right/r_"+i+"_0_Screen.svg" | safe' style="transform: translate(-100px, -25px); box-shadow: -10% 0px 0px 0px white; border: 0px; flex: 5; height: 100%;width: 100%;"></iframe>
                    </div>
                  </ng-template>
                  <div class="iframeOverlay" id="iframeOverlay_right_{{i}}"></div>
                  
                </mat-panel-title>
              </mat-expansion-panel-header>
                <div class="cardList" >
                  <div style="flex-grow: 3" *ngFor="let card of createRange(item.cards); let n=index" (dblclick)="selectCard(i)">
                    <iframe id="card{{i}}_{{n}}" [src]='"assets/Screen/Right/r_"+i+"_"+n+"_screen_card.svg" | safe' style="height: 100%; width: 100%; border: 0px;  padding: 0px 10px;  " ></iframe>
                  </div>
                </div>
            </mat-expansion-panel>
          </div>
        </div>
    
      
  </div>
  